{"ast":null,"code":"import React from\"react\";import{Camera}from\"lucide-react\";import{useAuthStore}from\"../store/useAuthStore\";import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilePage=()=>{const{authUser,isUpdatingProfile,updateProfile}=useAuthStore();const[selectedImg,setSelectedImg]=useState(null);const handleImageUpload=async e=>{const file=e.target.files[0];if(!file)return;const reader=new FileReader();reader.readAsDataURL(file);reader.onload=async()=>{const base64Image=reader.result;setSelectedImg(base64Image);await updateProfile({profilePicture:base64Image});};};return/*#__PURE__*/_jsx(\"div\",{className:\"h-screen pt-20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-base-300 rounded-xl p-6 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-primary\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary/60\",children:\"Update your profile information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:selectedImg||authUser.profilePicture||\"logo192.png\",alt:\"Profile\",className:\"size-32 rounded-full object-cover border-4\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"profilePicture\",className:\"absolute bottom-0 right-0 p-2 bg-primary rounded-full cursor-pointer \".concat(isUpdatingProfile?\"pointer-events-none opacity-50\":\"\"),children:[/*#__PURE__*/_jsx(Camera,{className:\"w-6 h-6 text-white\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"profilePicture\",className:\"hidden\",accept:\"image/*\",onChange:handleImageUpload,disabled:isUpdatingProfile})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-zinc-400\",children:isUpdatingProfile?\"Uploading...\":\"Click to upload a new profile picture\"})]})]})})});};export default ProfilePage;","map":{"version":3,"names":["React","Camera","useAuthStore","useState","jsx","_jsx","jsxs","_jsxs","ProfilePage","authUser","isUpdatingProfile","updateProfile","selectedImg","setSelectedImg","handleImageUpload","e","file","target","files","reader","FileReader","readAsDataURL","onload","base64Image","result","profilePicture","className","children","src","alt","htmlFor","concat","type","id","accept","onChange","disabled"],"sources":["/Users/achintiii/chat-app/frontend/src/pages/ProfilePage.jsx"],"sourcesContent":["import React from \"react\";\nimport { Camera } from \"lucide-react\";\nimport { useAuthStore } from \"../store/useAuthStore\";\nimport { useState } from \"react\";\n\nconst ProfilePage = () => {\n    const { authUser, isUpdatingProfile, updateProfile } = useAuthStore();\n    const [selectedImg, setSelectedImg] = useState(null);\n\n\n    const handleImageUpload = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = async () => {\n            const base64Image = reader.result;\n            setSelectedImg(base64Image);\n            await updateProfile({ profilePicture: base64Image });\n        };\n\n    };\n\n    return (\n        <div className=\"h-screen pt-20\">\n            <div className=\"max-w-2xl mx-auto\">\n                <div className=\"bg-base-300 rounded-xl p-6 space-y-8\">\n                    <div className=\"text-center\">\n                        <h1 className=\"text-3xl font-bold text-primary\">Profile</h1>\n                        <p className=\"text-primary/60\">Update your profile information</p>\n                    </div>\n                    {/* Avatar Section */}\n                    <div className=\"flex flex-col items-center gap-4\">\n                        <div className=\"relative\">\n                            <img\n                                src={selectedImg || authUser.profilePicture || \"logo192.png\"}\n                                alt=\"Profile\"\n                                className=\"size-32 rounded-full object-cover border-4\"\n                            />\n                            <label\n                                htmlFor=\"profilePicture\"\n                                className={`absolute bottom-0 right-0 p-2 bg-primary rounded-full cursor-pointer ${\n                                    isUpdatingProfile ? \"pointer-events-none opacity-50\" : \"\"\n                                }`}\n                            >\n                                <Camera className=\"w-6 h-6 text-white\" />\n                                <input\n                                    type=\"file\"\n                                    id=\"profilePicture\"\n                                    className=\"hidden\"\n                                    accept=\"image/*\"\n                                    onChange={handleImageUpload}\n                                    disabled={isUpdatingProfile}\n                                />\n                            </label>\n                        </div>\n                        <p className=\"text-sm text-zinc-400\">\n                            {isUpdatingProfile ? \"Uploading...\" : \"Click to upload a new profile picture\"}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProfilePage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,cAAc,CACrC,OAASC,YAAY,KAAQ,uBAAuB,CACpD,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAEC,QAAQ,CAAEC,iBAAiB,CAAEC,aAAc,CAAC,CAAGT,YAAY,CAAC,CAAC,CACrE,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAGpD,KAAM,CAAAW,iBAAiB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACnC,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAI,CAACF,IAAI,CAAE,OACX,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,aAAa,CAACL,IAAI,CAAC,CAC1BG,MAAM,CAACG,MAAM,CAAG,SAAY,CACxB,KAAM,CAAAC,WAAW,CAAGJ,MAAM,CAACK,MAAM,CACjCX,cAAc,CAACU,WAAW,CAAC,CAC3B,KAAM,CAAAZ,aAAa,CAAC,CAAEc,cAAc,CAAEF,WAAY,CAAC,CAAC,CACxD,CAAC,CAEL,CAAC,CAED,mBACIlB,IAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC3BtB,IAAA,QAAKqB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC9BpB,KAAA,QAAKmB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACjDpB,KAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBtB,IAAA,OAAIqB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAC5DtB,IAAA,MAAGqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,iCAA+B,CAAG,CAAC,EACjE,CAAC,cAENpB,KAAA,QAAKmB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC7CpB,KAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBtB,IAAA,QACIuB,GAAG,CAAEhB,WAAW,EAAIH,QAAQ,CAACgB,cAAc,EAAI,aAAc,CAC7DI,GAAG,CAAC,SAAS,CACbH,SAAS,CAAC,4CAA4C,CACzD,CAAC,cACFnB,KAAA,UACIuB,OAAO,CAAC,gBAAgB,CACxBJ,SAAS,yEAAAK,MAAA,CACLrB,iBAAiB,CAAG,gCAAgC,CAAG,EAAE,CAC1D,CAAAiB,QAAA,eAEHtB,IAAA,CAACJ,MAAM,EAACyB,SAAS,CAAC,oBAAoB,CAAE,CAAC,cACzCrB,IAAA,UACI2B,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,gBAAgB,CACnBP,SAAS,CAAC,QAAQ,CAClBQ,MAAM,CAAC,SAAS,CAChBC,QAAQ,CAAErB,iBAAkB,CAC5BsB,QAAQ,CAAE1B,iBAAkB,CAC/B,CAAC,EACC,CAAC,EACP,CAAC,cACNL,IAAA,MAAGqB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAC/BjB,iBAAiB,CAAG,cAAc,CAAG,uCAAuC,CAC9E,CAAC,EACH,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}